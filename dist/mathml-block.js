!function(){"use strict";var t={42:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(i[u]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},56:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:function(t){var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},i=[],c=0;c<t.length;c++){var u=t[c],s=r.base?u[0]+r.base:u[0],l=o[s]||0,d="".concat(s," ").concat(l);o[s]=l+1;var f=n(d),m={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(m);else{var p=a(m,r);r.byIndex=c,e.splice(c,0,{identifier:d,updater:p,references:1})}i.push(d)}return i}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var o=r(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<o.length;i++){var c=n(o[i]);e[c].references--}for(var u=r(t,a),s=0;s<o.length;s++){var l=n(o[s]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=u}}},113:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},370:function(t,e,n){var r=n(425),a=n.n(r),o=n(42),i=n.n(o)()(a());i.push([t.id,".toolbar-button__advanced-mathml:before {\n\tcontent: 'M';\n}",""]),e.A=i},425:function(t){t.exports=function(t){return t[1]}},540:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},659:function(t){var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},795:function(t,e){var n=wp.primitives,r=n.SVG,a=n.Path;e.A=React.createElement(r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},React.createElement(a,{d:"M 5 19.355 L 12.755 12.209 L 5.157 4.464 L 5.157 4 L 18.28 4 L 18.28 8.405 L 17.821 8.405 C 17.701 7.046 17.275 6.125 16.543 5.642 C 15.773 5.181 14.754 4.959 13.484 4.974 L 8.553 4.974 L 14.772 11.677 L 8.115 17.769 L 16.498 17.769 C 17.111 17.754 17.507 17.501 17.686 17.011 C 17.843 16.543 17.921 16.041 17.921 15.505 L 18.381 15.505 L 18.381 20 L 5 20 L 5 19.355 Z"}))},825:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.nc=void 0,function(){var t,e=new Uint8Array(16);function r(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(e)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=[],i=0;i<256;++i)o.push((i+256).toString(16).substr(1));var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&a.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},u=function(t,e,n){var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=a[o];return e}return c(a)},s=n(795),l=wp.i18n.__;(0,wp.blocks.registerBlockType)("mathml/mathmlblock",{title:"MathML",icon:s.A,category:"common",attributes:{formula:{source:"html",selector:"div",type:"string"}},edit:function(t){var e=t.isSelected,n=t.attributes,r=t.setAttributes,a=t.className,o=n.formula,i=u();return function(t){setTimeout((function(){window.MathJax&&window.MathJax.typesetPromise?window.MathJax.typesetPromise([document.getElementById(t)]).catch((function(t){console.error("MathJax typesetting failed: ",t)})):window.MathJax&&window.MathJax.Hub&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,document.getElementById(t)])}),100)}(i),e?React.createElement("div",{className:a},React.createElement("label",{htmlFor:i},l("MathML formula:","mathml-block")),React.createElement("textarea",{id:i,className:"mathml-formula","data-tagname":"div",onChange:function(t){r({formula:t.target.value})},value:o,style:{width:"100%"}})):React.createElement("div",{id:i,className:"mathml-block"},o)},save:function(t){var e=t.attributes,n=t.className,r=e.formula;return React.createElement("div",{className:n},r)}})}(),function(){var t=n(795),e=n(72),r=n.n(e),a=n(825),o=n.n(a),i=n(659),c=n.n(i),u=n(56),s=n.n(u),l=n(540),d=n.n(l),f=n(113),m=n.n(f),p=n(370),h={};h.styleTagTransform=m(),h.setAttributes=s(),h.insert=c().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=d(),r()(p.A,h),p.A&&p.A.locals&&p.A.locals;var v=window.wp.element,y=v.createElement,w=v.Fragment,g=window.wp.richText,b=g.registerFormatType,x=g.toggleFormat,M=window.wp.blockEditor,T=M.RichTextToolbarButton,E=M.RichTextShortcut;[{name:"mathml",title:(0,window.wp.i18n.__)("MathML","mathml-block"),character:"m"}].forEach((function(e){var n=e.name,r=e.title,a=e.character,o="mathml-block/".concat(n);b(o,{title:r,tagName:n,className:null,edit:function(e){var i=e.isActive,c=e.value,u=e.onChange,s=function(){u(x(c,{type:o})),setTimeout((function(){if(window.MathJax&&window.MathJax.typesetPromise){var t=document.getElementsByTagName("mathml");0<t.length&&window.MathJax.typesetPromise(Array.from(t)).catch((function(t){console.error("MathJax typesetting failed: ",t)}))}else window.MathJax&&window.MathJax.Hub&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,document.getElementsByTagName("mathml")])}),100)};return y(w,null,y(E,{type:"primary",character:a,onUse:s}),y(T,{title:r,icon:t.A,onClick:s,isActive:i,shortcutType:"primary",shortcutCharacter:a,className:"toolbar-button-with-text toolbar-button__advanced-".concat(n)}))}})}))}()}();